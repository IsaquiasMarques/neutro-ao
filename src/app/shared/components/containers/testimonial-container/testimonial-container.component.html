<div class="component-container">
    <div class="limited-container !mx-0 !max-w-full xl:!mx-auto xl:!max-w-[90%] 2xl:!max-w-[var(--max-w)] 4xl:!max-w-[75%] 5xl:!max-w-[var(--max-w-1536)] flex flex-col xl:flex-row">
        <div class="description w-full max-w-[358px] xl:max-w-[524px] mx-auto mb-12 xl:py-12">
            <p class="client-name limited-text one-line mb-4 text-white text-center xl:text-left text-lg font-semibold">
                {{ (this.testimonials[this.activeIndex]) ? this.testimonials[this.activeIndex].client : '' }}
            </p>
            <p class="h-[95px] xl:h-auto limited-text three-lines client-message text-white/60 font-['Bricolage-Grotesque'] font-extralight text-2xl xl:text-[2.5rem] xl:leading-[48px] text-center xl:text-left tracking-[-0.48px]">
                “{{ (this.testimonials[this.activeIndex]) ? this.testimonials[this.activeIndex].message: '' }}”
            </p>
    
            <div class="cta my-12 hidden w-full xl:flex justify-start">
                <button class=" bg-white text-black font-['Bricolage-Grotesque'] font-bold flex gap-2 justify-center items-center p-3 rounded-full">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="16" cy="16" r="16" fill="black"/>
                        <g clip-path="url(#clip0_1413_38171)">
                        <g clip-path="url(#clip1_1413_38171)">
                        <path d="M16 9.44062C18.1375 9.44062 18.3906 9.45 19.2313 9.4875C20.0125 9.52187 20.4344 9.65313 20.7156 9.7625C21.0875 9.90625 21.3563 10.0813 21.6344 10.3594C21.9156 10.6406 22.0875 10.9063 22.2313 11.2781C22.3406 11.5594 22.4719 11.9844 22.5063 12.7625C22.5438 13.6062 22.5531 13.8594 22.5531 15.9938C22.5531 18.1313 22.5438 18.3844 22.5063 19.225C22.4719 20.0063 22.3406 20.4281 22.2313 20.7094C22.0875 21.0813 21.9125 21.35 21.6344 21.6281C21.3531 21.9094 21.0875 22.0813 20.7156 22.225C20.4344 22.3344 20.0094 22.4656 19.2313 22.5C18.3875 22.5375 18.1344 22.5469 16 22.5469C13.8625 22.5469 13.6094 22.5375 12.7688 22.5C11.9875 22.4656 11.5656 22.3344 11.2844 22.225C10.9125 22.0813 10.6438 21.9063 10.3656 21.6281C10.0844 21.3469 9.9125 21.0813 9.76875 20.7094C9.65938 20.4281 9.52813 20.0031 9.49375 19.225C9.45625 18.3813 9.44688 18.1281 9.44688 15.9938C9.44688 13.8563 9.45625 13.6031 9.49375 12.7625C9.52813 11.9812 9.65938 11.5594 9.76875 11.2781C9.9125 10.9063 10.0875 10.6375 10.3656 10.3594C10.6469 10.0781 10.9125 9.90625 11.2844 9.7625C11.5656 9.65313 11.9906 9.52187 12.7688 9.4875C13.6094 9.45 13.8625 9.44062 16 9.44062ZM16 8C13.8281 8 13.5563 8.00937 12.7031 8.04688C11.8531 8.08438 11.2688 8.22187 10.7625 8.41875C10.2344 8.625 9.7875 8.89688 9.34375 9.34375C8.89688 9.7875 8.625 10.2344 8.41875 10.7594C8.22187 11.2688 8.08438 11.85 8.04688 12.7C8.00938 13.5563 8 13.8281 8 16C8 18.1719 8.00938 18.4438 8.04688 19.2969C8.08438 20.1469 8.22187 20.7313 8.41875 21.2375C8.625 21.7656 8.89688 22.2125 9.34375 22.6562C9.7875 23.1 10.2344 23.375 10.7594 23.5781C11.2688 23.775 11.85 23.9125 12.7 23.95C13.5531 23.9875 13.825 23.9969 15.9969 23.9969C18.1688 23.9969 18.4406 23.9875 19.2938 23.95C20.1438 23.9125 20.7281 23.775 21.2344 23.5781C21.7594 23.375 22.2063 23.1 22.65 22.6562C23.0938 22.2125 23.3688 21.7656 23.5719 21.2406C23.7688 20.7313 23.9063 20.15 23.9438 19.3C23.9813 18.4469 23.9906 18.175 23.9906 16.0031C23.9906 13.8313 23.9813 13.5594 23.9438 12.7063C23.9063 11.8563 23.7688 11.2719 23.5719 10.7656C23.375 10.2344 23.1031 9.7875 22.6563 9.34375C22.2125 8.9 21.7656 8.625 21.2406 8.42188C20.7313 8.225 20.15 8.0875 19.3 8.05C18.4438 8.00938 18.1719 8 16 8Z" fill="white"/>
                        <path d="M16 11.8906C13.7313 11.8906 11.8906 13.7313 11.8906 16C11.8906 18.2688 13.7313 20.1094 16 20.1094C18.2688 20.1094 20.1094 18.2688 20.1094 16C20.1094 13.7313 18.2688 11.8906 16 11.8906ZM16 18.6656C14.5281 18.6656 13.3344 17.4719 13.3344 16C13.3344 14.5281 14.5281 13.3344 16 13.3344C17.4719 13.3344 18.6656 14.5281 18.6656 16C18.6656 17.4719 17.4719 18.6656 16 18.6656Z" fill="white"/>
                        <path d="M21.2312 11.7282C21.2312 12.2594 20.8 12.6876 20.2719 12.6876C19.7406 12.6876 19.3125 12.2563 19.3125 11.7282C19.3125 11.1969 19.7438 10.7688 20.2719 10.7688C20.8 10.7688 21.2312 11.2 21.2312 11.7282Z" fill="white"/>
                        </g>
                        </g>
                        <defs>
                        <clipPath id="clip0_1413_38171">
                        <rect x="4" y="4" width="24" height="24" rx="12" fill="white"/>
                        </clipPath>
                        <clipPath id="clip1_1413_38171">
                        <rect width="16" height="16" fill="white" transform="translate(8 8)"/>
                        </clipPath>
                        </defs>
                    </svg>
                    Partilhe connosco
                </button>
            </div>
    
        </div>
        <div class="testimonial-carousel w-full">
        
            <div class="images-container relative overflow-hidden h-[410px] md:max-w-[721px] md:mx-auto flex justify-center items-center">
                @for (testimonial of testimonials; track $index) {
                    <div
                    class="image duration-[.5s] w-[342px] h-[410px] absolute overflow-hidden rounded-lg"
                    [ngClass]="{
                        'negative-fourth': $index - this.activeIndex === -4,
                        'negative-third': $index - this.activeIndex === -3,
                        'negative-second': $index - this.activeIndex === -2,
                        'negative-first': $index - this.activeIndex === -1,
                        'active-image': $index - this.activeIndex === 0,
                        'positive-first': $index - this.activeIndex === 1,
                        'positive-second': $index - this.activeIndex === 2,
                        'positive-third': $index - this.activeIndex === 3,
                        'positive-fourth': $index - this.activeIndex === 4,
                    }"
                    >
                        <div class="overlay duration-[.5s] absolute bg-black/60 z-[2] left-0 top-0 w-full h-full"
                        [ngClass]="{
                            'opacity-1': $index !== activeIndex,
                            'opacity-0': $index === activeIndex,
                        }"
                        ></div>
                        <img
                        class="w-full h-full duration-[.5s] object-cover object-center"
                        [ngSrc]="testimonial.photo.genericPath"
                        [width]="testimonial.photo.allSizes?.['large-width']"
                        [height]="testimonial.photo.allSizes?.['large-height']"
                        [alt]="'Foto partilhada pelo usuário do intagram: ' + testimonial.client">
                    </div>
                }
            </div>
        
            <div class="cta my-12 xl:hidden w-full flex justify-center">
                <a href="https://www.instagram.com/neutro.ao" target="_blank" class=" bg-white text-black font-['Bricolage-Grotesque'] font-bold flex gap-2 justify-center items-center p-3 rounded-full">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="16" cy="16" r="16" fill="black"/>
                        <g clip-path="url(#clip0_1413_38171)">
                        <g clip-path="url(#clip1_1413_38171)">
                        <path d="M16 9.44062C18.1375 9.44062 18.3906 9.45 19.2313 9.4875C20.0125 9.52187 20.4344 9.65313 20.7156 9.7625C21.0875 9.90625 21.3563 10.0813 21.6344 10.3594C21.9156 10.6406 22.0875 10.9063 22.2313 11.2781C22.3406 11.5594 22.4719 11.9844 22.5063 12.7625C22.5438 13.6062 22.5531 13.8594 22.5531 15.9938C22.5531 18.1313 22.5438 18.3844 22.5063 19.225C22.4719 20.0063 22.3406 20.4281 22.2313 20.7094C22.0875 21.0813 21.9125 21.35 21.6344 21.6281C21.3531 21.9094 21.0875 22.0813 20.7156 22.225C20.4344 22.3344 20.0094 22.4656 19.2313 22.5C18.3875 22.5375 18.1344 22.5469 16 22.5469C13.8625 22.5469 13.6094 22.5375 12.7688 22.5C11.9875 22.4656 11.5656 22.3344 11.2844 22.225C10.9125 22.0813 10.6438 21.9063 10.3656 21.6281C10.0844 21.3469 9.9125 21.0813 9.76875 20.7094C9.65938 20.4281 9.52813 20.0031 9.49375 19.225C9.45625 18.3813 9.44688 18.1281 9.44688 15.9938C9.44688 13.8563 9.45625 13.6031 9.49375 12.7625C9.52813 11.9812 9.65938 11.5594 9.76875 11.2781C9.9125 10.9063 10.0875 10.6375 10.3656 10.3594C10.6469 10.0781 10.9125 9.90625 11.2844 9.7625C11.5656 9.65313 11.9906 9.52187 12.7688 9.4875C13.6094 9.45 13.8625 9.44062 16 9.44062ZM16 8C13.8281 8 13.5563 8.00937 12.7031 8.04688C11.8531 8.08438 11.2688 8.22187 10.7625 8.41875C10.2344 8.625 9.7875 8.89688 9.34375 9.34375C8.89688 9.7875 8.625 10.2344 8.41875 10.7594C8.22187 11.2688 8.08438 11.85 8.04688 12.7C8.00938 13.5563 8 13.8281 8 16C8 18.1719 8.00938 18.4438 8.04688 19.2969C8.08438 20.1469 8.22187 20.7313 8.41875 21.2375C8.625 21.7656 8.89688 22.2125 9.34375 22.6562C9.7875 23.1 10.2344 23.375 10.7594 23.5781C11.2688 23.775 11.85 23.9125 12.7 23.95C13.5531 23.9875 13.825 23.9969 15.9969 23.9969C18.1688 23.9969 18.4406 23.9875 19.2938 23.95C20.1438 23.9125 20.7281 23.775 21.2344 23.5781C21.7594 23.375 22.2063 23.1 22.65 22.6562C23.0938 22.2125 23.3688 21.7656 23.5719 21.2406C23.7688 20.7313 23.9063 20.15 23.9438 19.3C23.9813 18.4469 23.9906 18.175 23.9906 16.0031C23.9906 13.8313 23.9813 13.5594 23.9438 12.7063C23.9063 11.8563 23.7688 11.2719 23.5719 10.7656C23.375 10.2344 23.1031 9.7875 22.6563 9.34375C22.2125 8.9 21.7656 8.625 21.2406 8.42188C20.7313 8.225 20.15 8.0875 19.3 8.05C18.4438 8.00938 18.1719 8 16 8Z" fill="white"/>
                        <path d="M16 11.8906C13.7313 11.8906 11.8906 13.7313 11.8906 16C11.8906 18.2688 13.7313 20.1094 16 20.1094C18.2688 20.1094 20.1094 18.2688 20.1094 16C20.1094 13.7313 18.2688 11.8906 16 11.8906ZM16 18.6656C14.5281 18.6656 13.3344 17.4719 13.3344 16C13.3344 14.5281 14.5281 13.3344 16 13.3344C17.4719 13.3344 18.6656 14.5281 18.6656 16C18.6656 17.4719 17.4719 18.6656 16 18.6656Z" fill="white"/>
                        <path d="M21.2312 11.7282C21.2312 12.2594 20.8 12.6876 20.2719 12.6876C19.7406 12.6876 19.3125 12.2563 19.3125 11.7282C19.3125 11.1969 19.7438 10.7688 20.2719 10.7688C20.8 10.7688 21.2312 11.2 21.2312 11.7282Z" fill="white"/>
                        </g>
                        </g>
                        <defs>
                        <clipPath id="clip0_1413_38171">
                        <rect x="4" y="4" width="24" height="24" rx="12" fill="white"/>
                        </clipPath>
                        <clipPath id="clip1_1413_38171">
                        <rect width="16" height="16" fill="white" transform="translate(8 8)"/>
                        </clipPath>
                        </defs>
                    </svg>
                    Partilhe connosco
                </a>
            </div>
    
        </div>
    </div>
</div>
<div class="carousel-controllers xl:mt-12">
    <div class="limited-container flex justify-between items-center">

        <div class="dots-indicators px-2 py-3 flex gap-x-2 justify-start items-center">
            @for (dot of testimonials; track $index) {
                <div class="dot w-2 h-2 rounded-full bg-[rgba(239,239,239,0.40)]"
                [ngClass]="{ 'active': $index === activeIndex }"
                (click)="this.slideTo($index)"
                ></div>
            }
        </div>
        <div class="arrow-controllers flex gap-x-4 justify-start items-center">
            <div class="prev cursor-pointer">
                <a (click)="prev()" class="">
                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect class="duration-[.2s]" width="40" height="40" rx="20" [attr.fill]="(activeIndex === 0) ? '#ffffff0d' : 'white'"/>
                        <rect *ngIf="activeIndex === 0" x="1" y="1" width="40" height="40" rx="20" stroke="white" stroke-opacity="0.05" stroke-width="1.5"/>
                        <path class="duration-[.2s]" d="M23 26L17 20L23 14" [attr.stroke]="(activeIndex === 0) ? 'white' : 'black'" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>                            
                </a>
            </div>
            <div class="next cursor-pointer">
                <a (click)="next()" class="">
                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect class="duration-[.2s]" width="40" height="40" rx="20" [attr.fill]="(activeIndex === this.testimonials.length - 1) ? '#ffffff0d' : 'white'"/>
                        <rect *ngIf="activeIndex === this.testimonials.length - 1" x="1" y="1" width="40" height="40" rx="20" stroke="white" stroke-opacity="0.05" stroke-width="1.5"/>
                        <path class="duration-[.2s]" d="M17 26L23 20L17 14" [attr.stroke]="(activeIndex === this.testimonials.length - 1) ? 'white' : 'black'" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </a>
            </div>
        </div>
        
    </div>
</div>